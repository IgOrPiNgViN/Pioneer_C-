/*
===========================================
УРОК 5: ЦИКЛЫ
===========================================

ЦЕЛИ УРОКА:
- Изучить цикл for и его синтаксис
- Понять цикл while и его применение
- Освоить цикл do-while
- Научиться использовать вложенные циклы
- Понять операторы break и continue

ТЕОРЕТИЧЕСКАЯ ЧАСТЬ:

ЦИКЛЫ В C++:

Циклы позволяют выполнять один и тот же код несколько раз. Это основа программирования,
которая избавляет от необходимости писать повторяющийся код.

1. ЦИКЛ FOR (цикл со счетчиком):

   Синтаксис:
   for (инициализация; условие; обновление) {
       // тело цикла
   }
   
   Как работает:
   - Инициализация: выполняется один раз в начале (объявление и инициализация счетчика)
   - Условие: проверяется перед каждой итерацией (если false - цикл завершается)
   - Обновление: выполняется после каждой итерации (обычно изменение счетчика)
   - Тело цикла: код, который выполняется на каждой итерации
   
   Примеры:
   // Вывод чисел от 1 до 5:
   for (int i = 1; i <= 5; i++) {
       cout << i << " ";
   }
   // Вывод: 1 2 3 4 5
   
   // Обратный порядок:
   for (int i = 5; i >= 1; i--) {
       cout << i << " ";
   }
   // Вывод: 5 4 3 2 1
   
   // С шагом 2:
   for (int i = 0; i < 10; i += 2) {
       cout << i << " ";
   }
   // Вывод: 0 2 4 6 8
   
   // Без инициализации (если переменная объявлена ранее):
   int i = 0;
   for (; i < 5; i++) {
       cout << i << " ";
   }
   
   // Бесконечный цикл (осторожно!):
   for (;;) {
       // код
       if (условие) break;  // выход из цикла
   }
   
   Когда использовать:
   - Когда известно количество итераций
   - Для перебора элементов массива
   - Для выполнения действий определенное количество раз

2. ЦИКЛ WHILE (цикл с условием):

   Синтаксис:
   while (условие) {
       // тело цикла
   }
   
   Как работает:
   - Проверяется условие ПЕРЕД каждой итерацией
   - Если условие истинно (true) - выполняется тело цикла
   - Если условие ложно (false) - цикл завершается
   - Условие может стать false внутри цикла (нужно изменять переменные)
   
   Примеры:
   // Вывод чисел от 1 до 5:
   int i = 1;
   while (i <= 5) {
       cout << i << " ";
       i++;  // важно изменять переменную!
   }
   
   // Чтение до определенного значения:
   int number;
   while (number != 0) {
       cin >> number;
       cout << "Введено: " << number << endl;
   }
   
   // Бесконечный цикл (осторожно!):
   while (true) {
       // код
       if (условие) break;  // выход из цикла
   }
   
   Когда использовать:
   - Когда количество итераций неизвестно
   - Когда нужно проверять условие перед выполнением
   - Для обработки данных до определенного условия

3. ЦИКЛ DO-WHILE (цикл с постусловием):

   Синтаксис:
   do {
       // тело цикла
   } while (условие);
   
   Как работает:
   - Тело цикла выполняется ПЕРВЫМ (хотя бы один раз)
   - Затем проверяется условие
   - Если условие истинно - цикл продолжается
   - Если условие ложно - цикл завершается
   - Обратите внимание на точку с запятой после while!
   
   Примеры:
   // Меню (выполнится хотя бы один раз):
   int choice;
   do {
       cout << "Выберите опцию (0 - выход): ";
       cin >> choice;
       // обработка выбора
   } while (choice != 0);
   
   // Ввод до правильного значения:
   int number;
   do {
       cout << "Введите положительное число: ";
       cin >> number;
   } while (number <= 0);
   
   Разница между while и do-while:
   - while: проверка ДО выполнения (может не выполниться ни разу)
   - do-while: проверка ПОСЛЕ выполнения (выполнится хотя бы один раз)
   
   Когда использовать:
   - Когда нужно выполнить код хотя бы один раз
   - Для меню и интерактивных программ
   - Для валидации ввода

4. ВЛОЖЕННЫЕ ЦИКЛЫ:

   Вложенные циклы - это циклы внутри других циклов.
   
   Синтаксис:
   for (int i = 0; i < n; i++) {        // внешний цикл
       for (int j = 0; j < m; j++) {    // внутренний цикл
           // код
       }
   }
   
   Как работает:
   - Внешний цикл выполняется n раз
   - Для каждой итерации внешнего цикла внутренний цикл выполняется m раз
   - Общее количество итераций: n * m
   
   Примеры:
   // Таблица умножения:
   for (int i = 1; i <= 3; i++) {
       for (int j = 1; j <= 3; j++) {
           cout << i << " x " << j << " = " << (i * j) << "\t";
       }
       cout << endl;
   }
   
   // Вывод матрицы:
   for (int i = 0; i < rows; i++) {
       for (int j = 0; j < cols; j++) {
           cout << matrix[i][j] << " ";
       }
       cout << endl;
   }
   
   // Рисование прямоугольника:
   for (int i = 0; i < height; i++) {
       for (int j = 0; j < width; j++) {
           cout << "*";
       }
       cout << endl;
   }
   
   Важно:
   - Можно вкладывать циклы любого типа (for в while, while в for и т.д.)
   - Каждый уровень вложенности увеличивает сложность
   - Избегайте слишком глубокой вложенности (более 3 уровней)

5. RANGE-BASED FOR (C++11):

   Упрощенный цикл для перебора элементов контейнера.
   
   Синтаксис:
   for (тип элемент : контейнер) {
       // код
   }
   
   Примеры:
   // Массив:
   int arr[] = {1, 2, 3, 4, 5};
   for (int element : arr) {
       cout << element << " ";
   }
   
   // Строка:
   string str = "Hello";
   for (char c : str) {
       cout << c << " ";
   }
   
   // С ссылкой (для изменения элементов):
   int arr[] = {1, 2, 3};
   for (int& element : arr) {
       element *= 2;  // изменяем элементы
   }

УПРАВЛЕНИЕ ЦИКЛАМИ:

1. BREAK (прерывание цикла):

   Оператор break немедленно прерывает выполнение цикла.
   
   Синтаксис: break;
   
   Как работает:
   - Прерывает выполнение текущего цикла
   - Управление передается коду после цикла
   - В случае вложенных циклов прерывает только внутренний цикл
   
   Примеры:
   // Поиск элемента:
   int arr[] = {1, 2, 3, 4, 5};
   int target = 3;
   for (int i = 0; i < 5; i++) {
       if (arr[i] == target) {
           cout << "Найдено на позиции " << i << endl;
           break;  // выход из цикла
       }
   }
   
   // Выход из бесконечного цикла:
   while (true) {
       int input;
       cin >> input;
       if (input == 0) {
           break;  // выход из цикла
       }
   }
   
   Важно: break прерывает только один уровень вложенности!

2. CONTINUE (переход к следующей итерации):

   Оператор continue пропускает оставшуюся часть текущей итерации.
   
   Синтаксис: continue;
   
   Как работает:
   - Пропускает оставшийся код текущей итерации
   - Переходит к следующей итерации цикла
   - В цикле for выполняется обновление (третий параметр)
   - В цикле while проверяется условие
   
   Примеры:
   // Вывод только нечетных чисел:
   for (int i = 1; i <= 10; i++) {
       if (i % 2 == 0) {
           continue;  // пропускаем четные числа
       }
       cout << i << " ";
   }
   // Вывод: 1 3 5 7 9
   
   // Пропуск определенных значений:
   for (int i = 0; i < 10; i++) {
       if (i == 3 || i == 7) {
           continue;  // пропускаем 3 и 7
       }
       cout << i << " ";
   }
   
   Разница между break и continue:
   - break: полностью выходит из цикла
   - continue: переходит к следующей итерации

ОБЛАСТЬ ВИДИМОСТИ ПЕРЕМЕННЫХ:

Область видимости (scope) определяет, где переменная доступна.

1. В цикле for:
   - Переменная, объявленная в инициализации, видна только внутри цикла
   - После завершения цикла переменная уничтожается
   
   Пример:
   for (int i = 0; i < 5; i++) {
       // i доступна здесь
   }
   // i НЕ доступна здесь (ошибка компиляции)
   
   // Если нужна переменная после цикла:
   int i;
   for (i = 0; i < 5; i++) {
       // код
   }
   // i доступна здесь

2. В циклах while и do-while:
   - Переменные должны быть объявлены ДО цикла
   - Они остаются доступными после цикла
   
   Пример:
   int count = 0;  // объявлена до цикла
   while (count < 5) {
       count++;
   }
   // count доступна здесь

3. Вложенные циклы:
   - Каждый уровень вложенности создает свою область видимости
   - Внутренний цикл видит переменные внешнего цикла
   - Внешний цикл НЕ видит переменные внутреннего цикла
   
   Пример:
   for (int i = 0; i < 3; i++) {
       // i доступна здесь
       for (int j = 0; j < 3; j++) {
           // i и j доступны здесь
       }
       // j НЕ доступна здесь
   }
   // i и j НЕ доступны здесь

БЕСКОНЕЧНЫЕ ЦИКЛЫ:

Бесконечный цикл выполняется бесконечно (пока не будет прерван break или return).

Создание бесконечных циклов:
- for (;;) { }  // бесконечный for
- while (true) { }  // бесконечный while
- do { } while (true);  // бесконечный do-while

Когда использовать:
- Игровые циклы
- Серверные приложения
- Интерактивные программы

Важно: Всегда должен быть способ выхода из бесконечного цикла (break, return)!

Пример:
while (true) {
    cout << "Введите команду (exit - выход): ";
    string command;
    cin >> command;
    if (command == "exit") {
        break;  // выход из цикла
    }
    // обработка команды
}

ПРИМЕРЫ КОДА:
*/

#include <iostream>
using namespace std;

int main() {
    // Цикл for
    cout << "=== ЦИКЛ FOR ===" << endl;
    for (int i = 1; i <= 5; i++) {
        cout << "Итерация " << i << endl;
    }
    
    // Цикл while
    cout << "\n=== ЦИКЛ WHILE ===" << endl;
    int count = 1;
    while (count <= 3) {
        cout << "Счетчик: " << count << endl;
        count++;
    }
    
    // Цикл do-while
    cout << "\n=== ЦИКЛ DO-WHILE ===" << endl;
    int num = 1;
    do {
        cout << "Число: " << num << endl;
        num++;
    } while (num <= 3);
    
    // Вложенные циклы
    cout << "\n=== ВЛОЖЕННЫЕ ЦИКЛЫ ===" << endl;
    for (int i = 1; i <= 3; i++) {
        for (int j = 1; j <= 3; j++) {
            cout << "(" << i << "," << j << ") ";
        }
        cout << endl;
    }
    
    // Оператор break
    cout << "\n=== ОПЕРАТОР BREAK ===" << endl;
    for (int i = 1; i <= 10; i++) {
        if (i == 5) {
            cout << "Выход на 5" << endl;
            break;
        }
        cout << i << " ";
    }
    cout << endl;
    
    // Оператор continue
    cout << "\n=== ОПЕРАТОР CONTINUE ===" << endl;
    for (int i = 1; i <= 10; i++) {
        if (i % 2 == 0) {
            continue; // пропускаем четные числа
        }
        cout << i << " ";
    }
    cout << endl;
    
    return 0;
}

/*
ПРАКТИЧЕСКИЕ УПРАЖНЕНИЯ:

Упражнение 1: Таблица умножения
Создай программу, которая выводит таблицу умножения:
*/

void exercise1() {
    int n;
    cout << "Введите число для таблицы умножения: ";
    cin >> n;
    
    cout << "\n=== ТАБЛИЦА УМНОЖЕНИЯ ДЛЯ " << n << " ===" << endl;
    for (int i = 1; i <= 10; i++) {
        cout << n << " x " << i << " = " << (n * i) << endl;
    }
}

/*
Упражнение 2: Сумма чисел от 1 до N
Создай программу, которая вычисляет сумму чисел от 1 до N:
*/

void exercise2() {
    int n;
    cout << "Введите число N: ";
    cin >> n;
    
    int sum = 0;
    for (int i = 1; i <= n; i++) {
        sum += i;
    }
    
    cout << "\n=== СУММА ЧИСЕЛ ОТ 1 ДО " << n << " ===" << endl;
    cout << "Сумма = " << sum << endl;
    
    // Альтернативная формула
    int formulaSum = n * (n + 1) / 2;
    cout << "По формуле: " << formulaSum << endl;
}

/*
Упражнение 3: Факториал числа
Создай программу для вычисления факториала:
*/

void exercise3() {
    int n;
    cout << "Введите число для вычисления факториала: ";
    cin >> n;
    
    if (n < 0) {
        cout << "Факториал отрицательного числа не определен!" << endl;
        return;
    }
    
    long long factorial = 1;
    for (int i = 1; i <= n; i++) {
        factorial *= i;
    }
    
    cout << "\n=== ФАКТОРИАЛ " << n << " ===" << endl;
    cout << n << "! = " << factorial << endl;
}

/*
Упражнение 4: Последовательность Фибоначчи
Создай программу, которая выводит последовательность Фибоначчи:
*/

void exercise4() {
    int n;
    cout << "Введите количество чисел Фибоначчи: ";
    cin >> n;
    
    if (n <= 0) {
        cout << "Количество должно быть положительным!" << endl;
        return;
    }
    
    cout << "\n=== ПОСЛЕДОВАТЕЛЬНОСТЬ ФИБОНАЧЧИ ===" << endl;
    
    long long a = 0, b = 1;
    cout << a << " ";
    
    if (n > 1) {
        cout << b << " ";
    }
    
    for (int i = 2; i < n; i++) {
        long long next = a + b;
        cout << next << " ";
        a = b;
        b = next;
    }
    cout << endl;
}

/*
Упражнение 5: Поиск простых чисел
Создай программу, которая находит простые числа до N:
*/

void exercise5() {
    int n;
    cout << "Введите число N: ";
    cin >> n;
    
    cout << "\n=== ПРОСТЫЕ ЧИСЛА ДО " << n << " ===" << endl;
    
    for (int i = 2; i <= n; i++) {
        bool isPrime = true;
        
        for (int j = 2; j * j <= i; j++) {
            if (i % j == 0) {
                isPrime = false;
                break;
            }
        }
        
        if (isPrime) {
            cout << i << " ";
        }
    }
    cout << endl;
}

/*
ДОМАШНИЕ ЗАДАНИЯ:

Задание 1: Программа угадывания числа
Создай программу, которая загадывает число и дает пользователю попытки угадать:
- Генерация случайного числа
- Цикл для попыток
- Подсказки (больше/меньше)
- Подсчет попыток

Задание 2: Рисование фигур символами
Создай программу, которая рисует различные фигуры:
- Прямоугольник
- Треугольник
- Ромб
- Используй вложенные циклы

Задание 3: Программа расчета среднего арифметического
Создай программу, которая:
- Вводит N чисел
- Вычисляет их среднее арифметическое
- Находит максимальное и минимальное значения

ПРОВЕРОЧНЫЕ ВОПРОСЫ:

1. В чем разница между while и do-while?
2. Когда использовать for, а когда while?
3. Что такое вложенные циклы?
4. Как работает оператор break?
5. Как работает оператор continue?
6. Можно ли использовать break в switch?
7. Что такое область видимости переменных?

ЧТО ДАЛЬШЕ:
На следующем уроке мы изучим:
- Одномерные массивы
- Инициализация массивов
- Перебор элементов массива
- Поиск в массиве
- Сортировка массивов

ВРЕМЯ ИЗУЧЕНИЯ: 50-60 минут
ВРЕМЯ ПРАКТИКИ: 40-50 минут
ОБЩЕЕ ВРЕМЯ: 1.5-2 часа

===========================================
*/

#include <iostream>
#include "russian_support.h"  // Поддержка русского языка
using namespace std;

int main() {
    setupRussian();  // Настройка консоли для русского языка
    
    // Основная программа
    cout << "=== УРОК 5: ЦИКЛЫ ===" << endl;
    
    // Выполняем упражнения
    cout << "\n=== УПРАЖНЕНИЕ 1: ТАБЛИЦА УМНОЖЕНИЯ ===" << endl;
    exercise1();
    
    cout << "\n=== УПРАЖНЕНИЕ 2: СУММА ЧИСЕЛ ===" << endl;
    exercise2();
    
    cout << "\n=== УПРАЖНЕНИЕ 3: ФАКТОРИАЛ ===" << endl;
    exercise3();
    
    cout << "\n=== УПРАЖНЕНИЕ 4: ФИБОНАЧЧИ ===" << endl;
    exercise4();
    
    cout << "\n=== УПРАЖНЕНИЕ 5: ПРОСТЫЕ ЧИСЛА ===" << endl;
    exercise5();
    
    return 0;
}


















